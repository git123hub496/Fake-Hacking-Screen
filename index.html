<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Hacking Terminal</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
:root {
  --bg1: #001a00;
  --bg2: #000000;
  --fg: #00ff66;
}

body {
  margin: 0;
  background: radial-gradient(circle at top, var(--bg1), var(--bg2));
  color: var(--fg);
  font-family: monospace;
  overflow: hidden;
}

#header {
  text-align: center;
  padding: 12px;
  font-size: 22px;
  border-bottom: 1px solid var(--fg);
}

#terminal {
  height: 70vh;
  padding: 10px;
  overflow-y: auto;
  white-space: pre-wrap;
  font-size: 18px;
}

#inputBar {
  border-top: 1px solid var(--fg);
  padding: 10px;
}

#cmd {
  width: 100%;
  background: black;
  color: var(--fg);
  border: none;
  outline: none;
  font-size: 18px;
  font-family: monospace;
}
</style>
</head>

<body>

<div id="header">Hacking Terminal</div>
<div id="terminal"></div>
<div id="inputBar">
  <input id="cmd" placeholder="type command..." autofocus>
</div>

<script>
const terminal = document.getElementById("terminal");
const input = document.getElementById("cmd");

let username = "user";
let waitingName = true;
let waitingPass = false;
let locked = true;
let connected = null;

const PASSWORD = "access123";

const computers = {
  "office-pc": ["emails.txt", "payroll.xls"],
  "server-node": ["users.db", "keys.key"]
};

function print(text = "") {
  terminal.textContent += text + "\n";
  terminal.scrollTop = terminal.scrollHeight;
}

function prompt() {
  return connected
    ? `${username}@${connected}> `
    : `${username}@terminal> `;
}

function setTheme(bg1, bg2, fg) {
  document.documentElement.style.setProperty("--bg1", bg1);
  document.documentElement.style.setProperty("--bg2", bg2);
  document.documentElement.style.setProperty("--fg", fg);
}

/* BOOT */
print("SYSTEM ONLINE");
print("Enter username: name <yourname>");

input.addEventListener("keydown", e => {
  if (e.key !== "Enter") return;

  const raw = input.value.trim();
  input.value = "";
  if (!raw) return;

  const cmd = raw.toLowerCase();
  print(prompt() + raw);

  /* LOGIN */
  if (waitingName) {
    if (cmd.startsWith("name ")) {
      username = raw.substring(5);
      waitingName = false;
      print("Welcome " + username);
      print("Type unlock");
    }
    return;
  }

  if (cmd === "unlock") {
    waitingPass = true;
    print("Enter: password <password>");
    return;
  }

  if (waitingPass) {
    if (cmd.startsWith("password ")) {
      if (raw.substring(9) === PASSWORD) {
        locked = false;
        waitingPass = false;
        print("ACCESS GRANTED");
        print("Type help");
      } else {
        print("ACCESS DENIED");
      }
    }
    return;
  }

  if (locked) {
    print("TERMINAL LOCKED");
    return;
  }

  /* HELP */
  if (cmd === "help") {
    print("Commands:");
    print("status, clear");
    print("network, scan, missions");
    print("computers, connect <name>");
    print("files, download <file>");
    print("help computer");
    print("theme green | blue | red");
    return;
  }

  /* STATUS */
  if (cmd === "status") {
    print("SYSTEM STATUS: STABLE");
    print("TRACE LEVEL: 0%");
    return;
  }

  /* NETWORK */
  if (cmd === "network") {
    print("NETWORK MAP:");
    print("[LOCAL] ── [ROUTER] ── [TARGET]");
    return;
  }

  if (cmd === "scan") {
    print("Scanning network...");
    setTimeout(() => print("Scan complete. 3 nodes found."), 1200);
    return;
  }

  /* MISSIONS */
  if (cmd === "missions") {
    print("ACTIVE MISSIONS:");
    print("- Scan network");
    print("- Download files");
    print("- Disable target");
    return;
  }

  /* COMPUTERS */
  if (cmd === "computers") {
    Object.keys(computers).forEach(c => print("- " + c));
    return;
  }

  if (cmd.startsWith("connect ")) {
    const c = raw.substring(8);
    if (!computers[c]) {
      print("Computer not found");
    } else {
      connected = c;
      print("Connected to " + c);
    }
    return;
  }

  if (cmd === "help computer") {
    print("COMPUTER COMMANDS:");
    print("computer status");
    print("computer hack");
    print("computer shutdown");
    return;
  }

  if (cmd === "computer status") {
    print("Computer online. Security level: LOW");
    return;
  }

  if (cmd === "computer hack") {
    print("Hacking computer...");
    setTimeout(() => print("Computer compromised."), 2000);
    return;
  }

  if (cmd === "computer shutdown") {
    print("Computer offline.");
    return;
  }

  /* FILES */
  if (cmd === "files") {
    if (!connected) {
      print("Not connected to a computer");
      return;
    }
    computers[connected].forEach(f => print("- " + f));
    return;
  }

  if (cmd.startsWith("download ")) {
    print("Downloading file...");
    setTimeout(() => print("Download complete."), 1500);
    return;
  }

  /* THEMES */
  if (cmd === "theme green") {
    setTheme("#001a00", "#000000", "#00ff66");
    print("Theme set to green");
    return;
  }

  if (cmd === "theme blue") {
    setTheme("#00101a", "#000814", "#4cc9f0");
    print("Theme set to blue");
    return;
  }

  if (cmd === "theme red") {
    setTheme("#1a0000", "#140000", "#ff4d4d");
    print("Theme set to red");
    return;
  }

  /* CLEAR */
  if (cmd === "clear") {
    terminal.textContent = "";
    return;
  }

  print("UNKNOWN COMMAND");
});
</script>

</body>
</html>
