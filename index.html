<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Hacking Terminal</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="icon" href="favicon.png">

<style>
:root{
  --bg:#000;
  --panel:#001a00;
  --fg:#00ff66;
  --border:#00ff66;
}
.theme-green{--bg:#000;--panel:#001a00;--fg:#00ff66;--border:#00ff66;}
.theme-red{--bg:#140000;--panel:#260000;--fg:#ff4444;--border:#ff4444;}
.theme-blue{--bg:#000814;--panel:#001a33;--fg:#33aaff;--border:#33aaff;}

body{
  margin:0;
  background:var(--bg);
  color:var(--fg);
  font-family:monospace;
  height:100vh;
  display:flex;
  flex-direction:column;
  overflow:hidden;
}
#header{
  text-align:center;
  padding:10px;
  border-bottom:2px solid var(--border);
  font-size:22px;
}
#main{
  flex:1;
  display:flex;
  flex-direction:column;
}
#terminalWrap{
  flex:1;
  display:flex;
  flex-direction:column;
  padding:10px;
  overflow:hidden;
}
#terminal{
  flex:1;
  overflow-y:auto;
  white-space:pre-wrap;
}
#inputBar{
  border-top:2px solid var(--border);
  padding:8px;
}
#cmd{
  width:100%;
  background:black;
  color:var(--fg);
  border:none;
  outline:none;
  font-size:16px;
}

#taskbar{
  height:50px;
  background:var(--panel);
  border-top:2px solid var(--border);
  display:flex;
  align-items:center;
  justify-content:space-between;
  padding:0 10px;
}

#appbar{
  display:flex;
  align-items:center;
  gap:12px;
}

#appbar button{
  background:transparent;
  border:none;
  color:var(--fg);
  font-size:22px;
  cursor:pointer;
  padding:4px 6px;
  border-radius:6px;
}
#appbar button:hover{
  background:var(--fg);
  color:var(--panel);
  transform:scale(1.2);
  transition:0.2s;
}

#battery{
  display:flex;
  align-items:center;
  gap:6px;
}
#batteryBox{
  width:22px;
  height:12px;
  border:2px solid var(--fg);
}
#batteryFill{
  height:100%;
  width:60%;
  background:var(--fg);
}
#batteryTip{
  width:3px;
  height:6px;
  background:var(--fg);
}

.window{
  position:absolute;
  top:90px;
  left:90px;
  width:260px;
  background:var(--panel);
  border:2px solid var(--border);
  padding:8px;
  z-index:10;
}
.close{
  float:right;
  cursor:pointer;
}
.hidden{
  display:none;
}
</style>
</head>

<body class="theme-green">

<div id="header">Hacking Terminal</div>

<div id="main">
  <div id="terminalWrap">
    <div id="terminal"></div>
    <div id="inputBar"><input id="cmd" placeholder="booting..." disabled></div>
  </div>
</div>

<div id="taskbar">
  <div id="appbar">
    <button onclick="openApp('files')">üìÅ</button>
    <button onclick="openApp('calc')">üßÆ</button>
    <button onclick="openApp('about')">üñ•Ô∏è</button>
    <button onclick="setTheme('theme-green')">üü¢</button>
    <button onclick="setTheme('theme-red')">üî¥</button>
    <button onclick="setTheme('theme-blue')">üîµ</button>
  </div>
  <div id="battery">
    <div id="batteryBox"><div id="batteryFill"></div></div>
    <div id="batteryTip"></div>
    <span id="batteryPct">60%</span>
  </div>
  <span id="clock"></span>
</div>

<!-- APP WINDOWS -->
<div id="files" class="window hidden">
  <span class="close" onclick="closeApp('files')">‚úñ</span>
  <b>File Explorer</b><br><br>
  system.log<br>users.db<br>keys.key
</div>

<div id="calc" class="window hidden">
  <span class="close" onclick="closeApp('calc')">‚úñ</span>
  <b>Calculator</b><br><br>
  <input id="calcIn" style="width:100%">
  <button onclick="doCalc()">=</button>
  <div id="calcOut"></div>
</div>

<div id="about" class="window hidden">
  <span class="close" onclick="closeApp('about')">‚úñ</span>
  <b>System Info</b><br><br>
  FakeOS v5<br>Status: Stable
</div>

<script>
const terminal=document.getElementById("terminal");
const input=document.getElementById("cmd");
const header=document.getElementById("header");

let waitingName=true, isAdmin=false;
let username="user";
let connected=null;
let trace=0;
let startTime=Date.now();

const computers={
  "office-pc":["mail.txt","finance.xls"],
  "server-node":["users.db","keys.key"]
};

function print(t){terminal.textContent+=t+"\n";terminal.scrollTop=terminal.scrollHeight}
function prompt(){return (isAdmin?"ADMIN":"user")+"@terminal> "}

const boot=[
  "Booting Hacking Terminal...",
  "Loading modules...",
  "Initializing UI...",
  "System ready.",
  "",
  "Enter username: name <yourname>"
];
let bi=0;
const bootInt=setInterval(()=>{
  print(boot[bi++]);
  if(bi>=boot.length){
    clearInterval(bootInt);
    input.disabled=false;
    input.placeholder="type command...";
  }
},500);

input.addEventListener("keydown",e=>{
  if(e.key!=="Enter")return;
  const raw=input.value.trim();
  input.value="";
  if(!raw)return;
  const cmd=raw.toLowerCase();
  print(prompt()+raw);

  if(waitingName){
    if(cmd.startsWith("name ")){
      username=raw.slice(5);
      waitingName=false;
      if(username==="admin"){
        isAdmin=true;
        header.textContent="ADMIN Hacking Terminal";
        document.title="Admin Hacking Terminal";
      }
      print("ACCESS GRANTED");
      print("Type help");
    }
    return;
  }

  /* HELP */
  if(cmd==="help"){
    print("whoami, date, time, uptime");
    print("scan, hack, progress");
    print("computers, connect <name>, disconnect");
    print("ls, cat <file>");
    print("ping <target>, trace, trace reset");
    print("download <file>, upload <file>");
    print("encrypt <file>, decrypt <file>");
    print("networkmap, mission, credits");
    print("clear");
    if(isAdmin) print("ADMIN: shutdown, override, nuke, beat");
    return;
  }

  /* BASIC */
  if(cmd==="whoami"){print(username);return}
  if(cmd==="date"){print(new Date().toDateString());return}
  if(cmd==="time"){print(new Date().toLocaleTimeString());return}
  if(cmd==="uptime"){print(Math.floor((Date.now()-startTime)/1000)+"s");return}
  if(cmd.startsWith("echo ")){print(raw.slice(5));return}

  /* NETWORK */
  if(cmd.startsWith("ping ")){print("Pinging "+raw.slice(5)+"... OK");return}
  if(cmd==="trace"){trace+=10;print("TRACE LEVEL: "+trace+"%");return}
  if(cmd==="trace reset"){trace=0;print("TRACE RESET");return}

  /* COMPUTERS */
  if(cmd==="computers"){Object.keys(computers).forEach(c=>print("- "+c));return}
  if(cmd.startsWith("connect ")){
    const c=raw.slice(8);
    if(computers[c]){connected=c;print("Connected to "+c)}
    else print("NOT FOUND");
    return;
  }
  if(cmd==="disconnect"){connected=null;print("Disconnected");return}
  if(cmd==="ls"){
    if(!connected){print("Not connected");return}
    computers[connected].forEach(f=>print(f));return
  }
  if(cmd.startsWith("cat ")){
    if(!connected){print("Not connected");return}
    print("Reading "+raw.slice(4)+"...");return
  }

  /* FILE OPS */
  if(cmd.startsWith("download ")){print("Downloading "+raw.slice(9)+"... DONE");return}
  if(cmd.startsWith("upload ")){print("Uploading "+raw.slice(7)+"... DONE");return}
  if(cmd.startsWith("encrypt ")){print("Encrypted "+raw.slice(8));return}
  if(cmd.startsWith("decrypt ")){print("Decrypted "+raw.slice(8));return}

  /* FUN */
  if(cmd==="networkmap"){
    print("[terminal]--[office-pc]");
    print("        \\--[server-node]");
    return;
  }
  if(cmd==="mission"){print("MISSION: Infiltrate the system");return}
  if(cmd==="credits"){print("Created by Git123Hub496");return}
  if(cmd==="hack the planet"){print("ACCESS GRANTED");print("YOU WON");return}

  /* ADMIN */
  if(isAdmin && cmd==="shutdown"){print("SYSTEM SHUTDOWN");return}
  if(isAdmin && cmd==="override"){print("SECURITY OVERRIDDEN");return}
  if(isAdmin && cmd==="nuke"){print("üí• SYSTEM DESTROYED");return}
  if(isAdmin && cmd==="beat"){terminal.textContent="";print("===== YOU WON =====");return}

  if(cmd==="clear"){terminal.textContent="";return}

  print("Unknown command");
});

/* UI HELPERS */
function openApp(id){document.getElementById(id).classList.remove("hidden")}
function closeApp(id){document.getElementById(id).classList.add("hidden")}
function doCalc(){document.getElementById("calcOut").textContent=eval(document.getElementById("calcIn").value)}
function setTheme(t){document.body.className=t}

setInterval(()=>{
  document.getElementById("clock").textContent=
    new Date().toLocaleTimeString([], {hour:'2-digit',minute:'2-digit'});
},1000);

let pct=60, charging=false;
setInterval(()=>{
  pct+=charging?1:-1;
  if(pct<=20) charging=true;
  if(pct>=100) charging=false;
  document.getElementById("batteryFill").style.width=pct+"%";
  document.getElementById("batteryPct").textContent=pct+"%"+(charging?" ‚ö°":"");
},1500);
</script>

</body>
</html>
